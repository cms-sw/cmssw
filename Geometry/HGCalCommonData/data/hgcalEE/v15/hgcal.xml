<?xml version="1.0"?>
<DDDefinition>

<ConstantsSection label="hgcal.xml" eval="true">
  <Constant name="WaferSize"             value="166.4408*mm"/>
  <Constant name="WaferThickness"        value="0.31*mm"/>
  <Constant name="SensorSeparation"      value="1.00*mm"/>
  <Constant name="ModuleThicknessEE"     value="9.10*mm"/>
  <Constant name="ModuleThicknessHE"     value="8.60*mm"/>
  <Constant name="CellThicknessFine"     value="0.12*mm"/>
  <Constant name="CellThicknessCoarse1"  value="0.20*mm"/>
  <Constant name="CellThicknessCoarse2"  value="0.30*mm"/>
  <Constant name="ScintillatorThickness" value="3.88*mm"/>
  <Constant name="NumberOfCellsFine"     value="12"/>
  <Constant name="NumberOfCellsCoarse"   value="8"/>
  <Constant name="FirstMixedLayer"       value="9"/>
  <Constant name="LayerRotation"         value="0*deg"/>
  <Constant name="zMinForRadPar"         value="335.0*cm"/>
  <Constant name="ChoiceType"            value="0"/>
  <Constant name="NCornerCut"            value="2"/>
  <Constant name="FracAreaMin"           value="0.2"/>
  <Constant name="radMixL0"              value="1537.05*mm"/>
  <Constant name="radMixL1"              value="1537.05*mm"/>
  <Constant name="radMixL2"              value="1537.05*mm"/>
  <Constant name="radMixL3"              value="1537.05*mm"/>
  <Constant name="radMixL4"              value="1378.52*mm"/>
  <Constant name="radMixL5"              value="1378.52*mm"/>
  <Constant name="radMixL6"              value="1207.60*mm"/>
  <Constant name="radMixL7"              value="1207.60*mm"/>
  <Constant name="radMixL8"              value="1207.60*mm"/>
  <Constant name="radMixL9"              value="1207.60*mm"/>
  <Constant name="radMixL10"             value="1045.90*mm"/>
  <Constant name="radMixL11"             value="1045.90*mm"/>
  <Constant name="radMixL12"             value="1045.90*mm"/>
  <Constant name="radMixL13"             value="1045.90*mm"/>
  <Constant name="slope1"                value="[etaMax:slope]"/>
  <Constant name="zPosV0"                value="3210.5*mm"/>
  <Constant name="rPosV0"                value="1523.3*mm"/>
  <Constant name="zPosV1"                value="3902.6*mm"/>
  <Constant name="zPosV2"                value="4562.0*mm"/>
  <Constant name="rPosV2"                value="2624.6*mm"/>
  <Constant name="slope3"                value="[caloBase:slope2]"/>
  <Constant name="rPosV1"                value="([rPosV2]+[slope3]*([zPosV1]-[zPosV2]))"/>
  <Constant name="slope2"                value="([rPosV1]-[rPosV0])/([zPosV1]-[zPosV0])"/>
  <Constant name="cslope2"               value="sqrt([slope2]*[slope2]+1.0)"/>
  <Constant name="cslope3"               value="sqrt([slope3]*[slope3]+1.0)"/>
  <Constant name="zHGCal0"               value="[caloBase:ZposV0]"/>
  <Constant name="zHGCal1"               value="[zPosV0]"/>
  <Constant name="zHGCal2"               value="3625.1*mm"/>
  <Constant name="zHGCal3"               value="[caloBase:Zpos31]"/>
  <Constant name="zHGCal4"               value="[caloBase:Zpos32]"/>
  <Constant name="zHGCal5"               value="[zPosV1]"/>
  <Constant name="zHGCal6"               value="4066.1*mm"/>
  <Constant name="zHGCal7"               value="[caloBase:Zpos33]"/>
  <Constant name="zHGCal8"               value="[caloBase:Zpos34]"/>
  <Constant name="zHGCal9"               value="[caloBase:Zpos36]"/>
  <Constant name="zHGCal10"              value="[zPosV2]"/>
  <Constant name="zHGCal11"              value="[caloBase:Zpos37]"/>
  <Constant name="zHGCal12"              value="5139.1*mm"/>
  <Constant name="zHGCal13"              value="[caloBase:Zpos38]"/>
  <Constant name="rMinHGCal0"            value="[caloBase:Rmin11]"/>
  <Constant name="rMinHGCal1"            value="[caloBase:Rmin11]"/>
  <Constant name="rMinHGCal2"            value="314.0*mm"/> 
  <Constant name="rMinHGCal3"            value="[caloBase:Rmin31]"/> 
  <Constant name="rMinHGCal4"            value="334.88*mm"/>    
  <Constant name="rMinHGCal5"            value="[caloBase:Rmin33]"/>    
  <Constant name="rMinHGCal6"            value="418.6*mm"/>
  <Constant name="rMinHGCal7"            value="[caloBase:Rmin34]"/>
  <Constant name="rMinHGCal8"            value="483.4*mm"/>
  <Constant name="rMaxHGCal0"            value="([rPosV0]+[slope2]*([zHGCal0]-[zPosV0]))"/>
  <Constant name="rMaxHGCal0S"           value="[caloBase:RmaxV0]"/>
  <Constant name="rMaxHGCal1"            value="[rPosV0]"/>
  <Constant name="rMaxHGCal2"            value="([rPosV0]+[slope2]*([zHGCal2]-[zPosV0]))"/>
  <Constant name="rMaxHGCal3"            value="([rPosV0]+[slope2]*([zHGCal3]-[zPosV0]))"/>
  <Constant name="rMaxHGCal3S"           value="[caloBase:Rmax31]"/>
  <Constant name="rMaxHGCal4S"           value="[caloBase:Rmax32]"/>
  <Constant name="rMaxHGCal5"            value="[rPosV1]"/>
  <Constant name="rMaxHGCal6"            value="([rPosV2]+[slope3]*([zHGCal6]-[zPosV2]))"/>
  <Constant name="rMaxHGCal7"            value="([rPosV2]+[slope3]*([zHGCal7]-[zPosV2]))"/>
  <Constant name="rMaxHGCal7S"           value="[caloBase:Rmax33]"/>
  <Constant name="rMaxHGCal8"            value="([rPosV2]+[slope3]*([zHGCal8]-[zPosV2]))"/>
  <Constant name="rMaxHGCal8S"           value="[caloBase:Rmax34]"/>
  <Constant name="rMaxHGCal9S"           value="[caloBase:Rmax36]"/>
  <Constant name="rMaxHGCal10"           value="[rPosV2]"/>
  <Constant name="rMaxHGCal11"           value="[caloBase:Rmax37]"/>
  <Constant name="rMaxHGCal12"           value="[caloBase:Rmax37]"/>
  <Constant name="zHGCalEE1"             value="[zHGCal1]"/>
  <Constant name="zHGCalEE2"             value="[zHGCal2]"/>
  <Constant name="rMinHGCalEE1"          value="[rMinHGCal2]"/>
  <Constant name="rMaxHGCalEE1"          value="[rMaxHGCal1]"/>
  <Constant name="rMaxHGCalEE2"          value="[rMaxHGCal2]"/>
  <Constant name="zHGCalHEsil1"          value="[zHGCal2]"/>
  <Constant name="zHGCalHEsil2"          value="[zHGCal5]"/>
  <Constant name="zHGCalHEsil3"          value="[zHGCal6]"/>
  <Constant name="rMinHGCalHEsil1"       value="[rMinHGCal4]"/>
  <Constant name="rMaxHGCalHEsil1"       value="[rMaxHGCal2]"/>
  <Constant name="rMaxHGCalHEsil2"       value="[rMaxHGCal5]"/>
  <Constant name="rMaxHGCalHEsil3"       value="[rMaxHGCal6]"/>
  <Constant name="zHGCalHEmix1"          value="[zHGCal6]"/>
  <Constant name="zHGCalHEmix2"          value="[zHGCal7]"/>
  <Constant name="zHGCalHEmix3"          value="[zHGCal8]"/>
  <Constant name="zHGCalHEmix4"          value="[zHGCal10]"/>
  <Constant name="zHGCalHEmix5"          value="[zHGCal11]"/>
  <Constant name="zHGCalHEmix6"          value="[zHGCal13]"/>
  <Constant name="rMinHGCalHEmix1"       value="[rMinHGCal6]"/>
  <Constant name="rMinHGCalHEmix2"       value="[rMinHGCal8]"/>
  <Constant name="rMaxHGCalHEmix1"       value="[rMaxHGCal6]"/>
  <Constant name="rMaxHGCalHEmix2"       value="[rMaxHGCal7]"/>
  <Constant name="rMaxHGCalHEmix3"       value="[rMaxHGCal8]"/>
  <Constant name="rMaxHGCalHEmix4"       value="[rMaxHGCal10]"/>
  <Constant name="rMaxHGCalHEmix5"       value="[rMaxHGCal12]"/>
</ConstantsSection>

<RotationSection label="hgcal.xml">
  <Rotation name="LayerRotation" phiX="[LayerRotation]" thetaX="90*deg" 
	    phiY="(90*deg+[LayerRotation])" thetaY="90*deg" 
	    phiZ="0*deg" thetaZ="0*deg"/>
</RotationSection>

<SolidSection label="hgcal.xml" eval="true">
  <Polycone name="HGCalService" startPhi="0*deg" deltaPhi="360*deg">
    <ZSection z="[zHGCal0]"  rMin="[rMinHGCal1]" rMax="[rMaxHGCal0S]"/>
    <ZSection z="[zHGCal3]"  rMin="[rMinHGCal1]" rMax="[rMaxHGCal3S]"/>
    <ZSection z="[zHGCal3]"  rMin="[rMinHGCal3]" rMax="[rMaxHGCal3S]"/>
    <ZSection z="[zHGCal4]"  rMin="[rMinHGCal3]" rMax="[rMaxHGCal4S]"/>
    <ZSection z="[zHGCal7]"  rMin="[rMinHGCal3]" rMax="[rMaxHGCal7S]"/>
    <ZSection z="[zHGCal7]"  rMin="[rMinHGCal5]" rMax="[rMaxHGCal7S]"/>
    <ZSection z="[zHGCal8]"  rMin="[rMinHGCal5]" rMax="[rMaxHGCal8S]"/>
    <ZSection z="[zHGCal8]"  rMin="[rMinHGCal7]" rMax="[rMaxHGCal8S]"/>
    <ZSection z="[zHGCal9]"  rMin="[rMinHGCal7]" rMax="[rMaxHGCal9S]"/>
    <ZSection z="[zHGCal11]" rMin="[rMinHGCal7]" rMax="[rMaxHGCal9S]"/>
    <ZSection z="[zHGCal11]" rMin="[rMinHGCal7]" rMax="[rMaxHGCal12]"/>
    <ZSection z="[zHGCal13]" rMin="[rMinHGCal7]" rMax="[rMaxHGCal12]"/>
  </Polycone>
  <Polycone name="HGCal" startPhi="0*deg" deltaPhi="360*deg">
    <ZSection z="[zHGCal0]"   rMin="[rMinHGCal1]"   rMax="[rMaxHGCal1]"/>
    <ZSection z="[zHGCal3]"   rMin="[rMinHGCal1]"   rMax="[rMaxHGCal3]"/>
    <ZSection z="[zHGCal3]"   rMin="[rMinHGCal3]"   rMax="[rMaxHGCal3]"/>
    <ZSection z="[zHGCal5]"   rMin="[rMinHGCal3]"   rMax="[rMaxHGCal5]"/>
    <ZSection z="[zHGCal7]"   rMin="[rMinHGCal3]"   rMax="[rMaxHGCal7]"/>
    <ZSection z="[zHGCal7]"   rMin="[rMinHGCal5]"   rMax="[rMaxHGCal7]"/>
    <ZSection z="[zHGCal8]"   rMin="[rMinHGCal5]"   rMax="[rMaxHGCal8]"/>
    <ZSection z="[zHGCal8]"   rMin="[rMinHGCal7]"   rMax="[rMaxHGCal8]"/>
    <ZSection z="[zHGCal10]"  rMin="[rMinHGCal7]"   rMax="[rMaxHGCal10]"/>
    <ZSection z="[zHGCal11]"  rMin="[rMinHGCal7]"   rMax="[rMaxHGCal10]"/>
    <ZSection z="[zHGCal11]"  rMin="[rMinHGCal7]"   rMax="[rMaxHGCal12]"/>
    <ZSection z="[zHGCal13]"  rMin="[rMinHGCal7]"   rMax="[rMaxHGCal12]"/>
  </Polycone>
  <Polycone name="HGCalEE" startPhi="0*deg" deltaPhi="360*deg">
    <ZSection z="[zHGCalEE1]" rMin="[rMinHGCalEE1]"  rMax="[rMaxHGCalEE1]"/>
    <ZSection z="[zHGCalEE2]" rMin="[rMinHGCalEE1]"  rMax="[rMaxHGCalEE2]"/>
  </Polycone>
</SolidSection>

<LogicalPartSection label="hgcal.xml">
  <LogicalPart name="HGCalService" category="unspecified">
    <rSolid name="HGCalService"/>
    <rMaterial name="caloBase:CEService"/>
  </LogicalPart>
  <LogicalPart name="HGCal" category="unspecified">
    <rSolid name="HGCal"/>
    <rMaterial name="materials:Air"/>
  </LogicalPart>
  <LogicalPart name="HGCalEE" category="unspecified">
    <rSolid name="HGCalEE"/>
    <rMaterial name="materials:Air"/>
  </LogicalPart>
</LogicalPartSection>

<PosPartSection label="hgcal.xml">
  <PosPart copyNumber="1">
    <rParent name="caloBase:CALOECRear"/>
    <rChild name="hgcal:HGCalService"/>
    <rRotation name="rotations:000D"/>
  </PosPart>
  <PosPart copyNumber="1">
    <rParent name="hgcal:HGCal"/>
    <rChild name="hgcal:HGCalEE"/>
    <rRotation name="rotations:000D"/>
  </PosPart>
  <PosPart copyNumber="1">
    <rParent name="hgcal:HGCalService"/>
    <rChild name="hgcal:HGCal"/>
    <rRotation name="rotations:000D"/>
  </PosPart>
</PosPartSection>
</DDDefinition>
