<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="pixfwdInnerDiskZminus.xml" eval="true">
  <Constant name="InnerRingRMax"        value="39.35*mm"/>
  <Constant name="InnerRingRMin"        value="[InnerRingRMax]-2.5*mm"/> <!-- according to stp file -->
  <Constant name="InnerRingCFRMax"        value="[InnerRingRMin]"/>
  <Constant name="InnerRingCFRMin"        value="[InnerRingCFRMax]-0.5*mm"/>
  <Constant name="InnerRingHalfWidth"   value="43.0*mm/2.0"/><!-- see Algorithm parameters -->
  <Constant name="InnerRingZ"           value="-[pixfwdDisks:DiskHalfWidth]+[InnerRingHalfWidth] + 21.0*mm"/>

  <Constant name="OuterRingRMin"        value="114.85*mm"/> <!-- according to stp file -->
  <Constant name="OuterRingRMax"        value="[OuterRingRMin]+2.50*mm"/>
  <Constant name="OuterRingCFRMin"        value="[OuterRingRMax]"/>
  <Constant name="OuterRingCFRMax"        value="[OuterRingCFRMin]+0.5*mm"/>
  <Constant name="OuterRingHalfWidth"   value="49.0*mm/2.0"/><!-- see Algorithm parameters -->
  <Constant name="OuterRingZ" value="-[pixfwdDisks:DiskHalfWidth]+[OuterRingHalfWidth]"/>
</ConstantsSection>
 
<!-- support ring solids - refer to outer disk comments -->
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
  <String  name="SolidName"        value="PixelForwardInnerDiskOuterRing"/> 
  <Numeric name="rMin"             value="[OuterRingRMin]"/>
  <Numeric name="rMax"             value="[OuterRingRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="12">
  1.519*rad,1.657*rad,1.657*rad,1.932*rad,2.762*rad,2.960*rad,3.368*rad,3.531*rad,4.210*rad,4.626*rad,4.626*rad,4.764*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="12">
   -336*mm,  -336*mm,  -345*mm,  -347*mm,  -357*mm,  -358*mm,  -345*mm,  -347*mm,  -359*mm,  -364*mm,  -364*mm,  -357*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="12">
   -322*mm,  -315*mm,  -315*mm,  -315*mm,  -328*mm,  -328*mm,  -315*mm,  -315*mm,  -329*mm,  -333*mm,  -340*mm,  -340*mm
  </Vector>
  <!-- min: -364 max: -315 width: 49 -->
</Algorithm>
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
  <String  name="SolidName"        value="PixelForwardInnerDiskCFOuterRing"/> 
  <Numeric name="rMin"             value="[OuterRingCFRMin]"/>
  <Numeric name="rMax"             value="[OuterRingCFRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="12">
  1.519*rad,1.657*rad,1.657*rad,1.932*rad,2.762*rad,2.960*rad,3.368*rad,3.531*rad,4.210*rad,4.626*rad,4.626*rad,4.764*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="12">
   -336*mm,  -336*mm,  -345*mm,  -347*mm,  -357*mm,  -358*mm,  -345*mm,  -347*mm,  -359*mm,  -364*mm,  -364*mm,  -357*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="12">
   -322*mm,  -315*mm,  -315*mm,  -315*mm,  -328*mm,  -328*mm,  -315*mm,  -315*mm,  -329*mm,  -333*mm,  -340*mm,  -340*mm
  </Vector>
  <!-- min: -364 max: -315 width: 49 -->
</Algorithm>

<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
  <String  name="SolidName"        value="PixelForwardInnerDiskInnerRing"/> 
  <Numeric name="rMin"             value="[InnerRingRMin]"/>
  <Numeric name="rMax"             value="[InnerRingRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="9">
  1.412*rad,2.180*rad,2.524*rad,2.792*rad,3.221*rad,3.221*rad,3.576*rad,4.284*rad,4.871*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="9">
   -315*mm,  -332*mm,  -338*mm,  -338*mm,  -338*mm,  -330*mm,  -330*mm,  -343*mm,  -343*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="9">
   -300*mm,  -300*mm,  -306*mm,  -311*mm,  -305*mm,  -305*mm,  -300*mm,  -313*mm,  -327*mm
  </Vector>
  <!-- min: -343 max: -300 width: 43 -->
</Algorithm>
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
  <String  name="SolidName"        value="PixelForwardInnerDiskCFInnerRing"/> 
  <Numeric name="rMin"             value="[InnerRingCFRMin]"/>
  <Numeric name="rMax"             value="[InnerRingCFRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="9">
  1.412*rad,2.180*rad,2.524*rad,2.792*rad,3.221*rad,3.221*rad,3.576*rad,4.284*rad,4.871*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="9">
   -315*mm,  -332*mm,  -338*mm,  -338*mm,  -338*mm,  -330*mm,  -330*mm,  -343*mm,  -343*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="9">
   -300*mm,  -300*mm,  -306*mm,  -311*mm,  -305*mm,  -305*mm,  -300*mm,  -313*mm,  -327*mm
  </Vector>
  <!-- min: -343 max: -300 width: 43 -->
</Algorithm>
 
<LogicalPartSection label="pixfwdInnerDiskZminus.xml">
 <LogicalPart name="PixelForwardInnerDiskInnerRing" category="support">
  <rSolid name="PixelForwardInnerDiskInnerRing"/>
  <rMaterial name="materials:C_C_InnerInnerRing"/>
 </LogicalPart>
  
 <LogicalPart name="PixelForwardInnerDiskOuterRing" category="support">
  <rSolid name="PixelForwardInnerDiskOuterRing"/>
  <rMaterial name="materials:C_C_InnerOuterRing"/>
 </LogicalPart>

 <LogicalPart name="PixelForwardInnerDiskCFInnerRing" category="support">
  <rSolid name="PixelForwardInnerDiskCFInnerRing"/>
  <rMaterial name="materials:FPix_CFSkin_InnerInnerRing"/>
 </LogicalPart>
  
 <LogicalPart name="PixelForwardInnerDiskCFOuterRing" category="support">
  <rSolid name="PixelForwardInnerDiskCFOuterRing"/>
  <rMaterial name="materials:FPix_CFSkin_InnerOuterRing"/>
 </LogicalPart>

</LogicalPartSection>


<PosPartSection label="Rings">
  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
  </PosPart>

  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
  </PosPart>
 
  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskCFInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
  </PosPart>

  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskCFOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
  </PosPart>
 

  <PosPart copyNumber="2">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
    <rRotation name="pixfwdCommon:Z180" />
  </PosPart>

  <PosPart copyNumber="2">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
    <rRotation name="pixfwdCommon:Z180" />
  </PosPart>
 
  <PosPart copyNumber="2">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskCFInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
    <rRotation name="pixfwdCommon:Z180" />
  </PosPart>

  <PosPart copyNumber="2">
    <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
    <rChild name="pixfwdInnerDiskZminus:PixelForwardInnerDiskCFOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
    <rRotation name="pixfwdCommon:Z180" />
  </PosPart>
</PosPartSection>


<!-- Blades -->

<Algorithm name="track:DDPixPhase1FwdDiskAlgo">
  <rParent name="pixfwdDisks:PixelForwardDiskZminus"/>
  <String  name="ChildName"        value="pixfwdbladeInnerZminus:PixelForwardBlade"/> 
  <Numeric name="StartCopyNo"      value="0"/>
  <Numeric name="NumberOfBlades"   value="22"/>
  <Numeric name="BladeAngle"       value="20*deg"/>
  <Numeric name="BladeTilt"        value="12*deg"/>
  <Numeric name="BladeCommonZ"     value="-0.875*mm"/>
  <Vector name="BladeZShift" type="numeric" nEntries="22">
    4.843*mm, 0.837*mm, -3.164*mm, -7.166*mm, -11.171*mm,
    4.828*mm, 0.826*mm, -3.170*mm, -7.176*mm, -11.674*mm, -16.175*mm,
    4.843*mm, 0.837*mm, -3.164*mm, -7.166*mm, -11.171*mm,
    4.828*mm, 0.826*mm, -3.170*mm, -7.176*mm, -11.674*mm, -16.175*mm
  </Vector>
  <Numeric name="AnchorRadius"    value="77.81*mm"/>
  <String  name="RotationName"    value="pixfwdInnerDiskZminus:PixInner"/>
 <String  name="FlagString"      value="YYYYYYYYYYYYYYYYYYYYYY"/>
</Algorithm>

</DDDefinition>
