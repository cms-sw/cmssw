process PROPAGATORTEST = {

    service = MessageLogger {
      untracked vstring destinations = {"cout"}

      untracked vstring categories = { "DDLParser", "Geant4e" }

      untracked PSet cout = { untracked string threshold = "DEBUG" }
      
      untracked vstring debugModules = {"propAna", "geomprod"}

    
    }

    source = PoolSource {
	#untracked vstring fileNames = { "file:///afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-05-04/digi.root" }
	#untracked vstring fileNames = { "file:/afs/cern.ch/user/i/iglezh/w0/CMSSW_2006-06-19/src/TrackPropagation/Geant4e/test/muondigi.root" }
#	untracked vstring fileNames = { "file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-06-16/MuMinus20GeV.root" }
	untracked vstring fileNames = { "file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-07-12/MuonRecHit.root" }
	untracked int32 maxEvents = -1
    }
  

    #include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
    include "Geometry/CSCGeometry/data/cscGeometry.cfi"

    module geomprod = GeometryProducer {
      bool UseMagneticField = true
      bool UseSensitiveDetectors = false

      PSet MagneticField = {
        double delta = 1.
      }
    }

    module propAna = Geant4ePropagatorAnalyzer {
	string HistogramFile = "bFieldHisto.root"
	string NtFile = "PropagatorDump.root"

	PSet MagneticField = {
          double delta = 1.
        }
        
    }



    path p = {geomprod, propAna}

}

