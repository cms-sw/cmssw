<bin name="testTFHelloWorld" file="testRunner.cpp,testHelloWorld.cc">
  <use name="tensorflow-cc"/>
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>

<iftool name="tf_cuda_support">
  <bin name="testTFHelloWorldCUDA" file="testRunner.cpp,testHelloWorldCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="tensorflow-cc"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFMetaGraphLoading" file="testRunner.cpp,testMetaGraphLoading.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>

<iftool name="tf_cuda_support">
  <bin name="testTFMetaGraphLoadingCUDA" file="testRunner.cpp,testMetaGraphLoadingCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFGraphLoading" file="testRunner.cpp,testGraphLoading.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>

<iftool name="tf_cuda_support">
  <bin name="testTFGraphLoadingCUDA" file="testRunner.cpp,testGraphLoadingCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFConstSession" file="testRunner.cpp,testConstSession.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>


<iftool name="tf_cuda_support">
  <bin name="testTFConstSessionCUDA" file="testRunner.cpp,testConstSessionCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFSessionCache" file="testRunner.cpp,testSessionCache.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>

<iftool name="tf_cuda_support">
  <bin name="testTFSessionCacheCUDA" file="testRunner.cpp,testSessionCacheCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFThreadPools" file="testRunner.cpp,testThreadPools.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>


<iftool name="tf_cuda_support">
  <bin name="testTFThreadPoolsCUDA" file="testRunner.cpp,testThreadPoolsCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<bin name="testTFVisibleDevices" file="testRunner.cpp,testVisibleDevices.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>

<bin name="testTFEmptyInputs" file="testRunner.cpp,testEmptyInputs.cc">
  <use name="boost_filesystem"/>
  <use name="cppunit"/>
  <use name="PhysicsTools/TensorFlow"/>
</bin>



<iftool name="tf_cuda_support">
  <bin name="testTFVisibleDevicesCUDA" file="testRunner.cpp,testVisibleDevicesCUDA.cc">
    <use name="boost_filesystem"/>
    <use name="catch2"/>
    <use name="cppunit"/>
    <use name="cuda"/>
    <use name="FWCore/ParameterSet"/>
    <use name="FWCore/ParameterSetReader"/>
    <use name="FWCore/PluginManager"/>
    <use name="FWCore/ServiceRegistry"/>
    <use name="FWCore/Utilities"/>
    <use name="HeterogeneousCore/CUDAServices"/>
    <use name="HeterogeneousCore/CUDAUtilities"/>
    <use name="PhysicsTools/TensorFlow"/>
  </bin>
</iftool>

<!-- <ifarchitecture name="!_ppc64le_">
<bin name="testTFAOT" file="testRunner.cpp,testAOT.cc">
  <flags DNN_NAME="testAOT_add" />

  <use name="cppunit" />
  <use name="tensorflow-runtime" />
  <use name="tensorflow-xla_compiled_cpu_function" />
</bin>

</ifarchitecture> -->
